{"ast":null,"code":"import jsPDF from \"./lib/jspdf\";\nimport QRCode from \"./../lib\";\nexport default function qr_generate(codes, columns, scale, paper_width, paper_height, margin_left, margin_top) {\n  columns = columns || 9;\n  scale = scale || 0.9;\n  paper_width = paper_width || 210.0;\n  paper_height = paper_height || 297.0;\n  margin_left = margin_left || 10.0;\n  margin_top = margin_top || 10.0;\n  var doc = new jsPDF(); //QR CODE GENERATOR - DO NOT CHANGE ANY PARAMETERS EXCEPT columns\n  //--------------------------------------------------------------------------\n\n  var ratio = 8.0 / parseFloat(columns);\n  var x_0 = 3.125 * ratio,\n      y_0 = 3.125 * ratio,\n      dx = 6.25 * ratio,\n      dy = 6.25 * ratio,\n      qr_width = 20.0 * ratio;\n  var code_margin_top = 5.15 * ratio,\n      code_margin_between = 1.0 * ratio;\n  var font_size_1 = 8.0 * ratio,\n      font_size_2 = 8.0 * ratio;\n  x_0 *= scale;\n  y_0 *= scale;\n  dx *= scale;\n  dy *= scale;\n  qr_width *= scale;\n  code_margin_top *= scale;\n  code_margin_between *= scale;\n  font_size_1 *= scale;\n  font_size_2 *= scale;\n  x_0 += margin_left;\n  y_0 += margin_top;\n  var codes_per_page = columns * columns;\n  var red_square_width_ratio = 0.13;\n  var options = {\n    render: \"canvas\",\n    width: qr_width,\n    height: qr_width,\n    typeNumber: -1,\n    correctLevel: QRErrorCorrectLevel.H,\n    background: \"#ffffff\",\n    foreground: \"#000000\"\n  };\n  var red_square_width = options.width * red_square_width_ratio;\n\n  for (var k = 0; k < 100; k++) {\n    var code_name = \"567493543892927rtyeg\";\n\n    if (k != 0 && k % codes_per_page == 0) {\n      doc.addPage();\n    }\n\n    if (k % codes_per_page == 0) {\n      for (var i = 0; i < columns + 1; i++) {\n        doc.setDrawColor(200, 200, 200); // draw red lines\n\n        doc.setLineWidth(0.2);\n        doc.line(margin_left + scale * paper_width / columns * i, margin_top, margin_left + scale * paper_width / columns * i, margin_top + scale * paper_height); // vertical line\n      }\n\n      for (var i = 0; i < columns + 1; i++) {\n        doc.setDrawColor(200, 200, 200); // draw red lines\n\n        doc.setLineWidth(0.2);\n        doc.line(margin_left, margin_top + scale * paper_height / columns * i, margin_left + scale * paper_width, margin_top + scale * paper_height / columns * i); // horizontal line\n      }\n    }\n\n    var x = x_0 + k % columns * (options.width + dx);\n    var y_1 = y_0 + (k % codes_per_page - k % columns) / columns * (options.height + code_margin_top + code_margin_between + (parseFloat(font_size_1) + parseFloat(font_size_2)) / 17.0 * 4.0 + dy); // create the qrcode itself\n\n    var qrcode = new QRCode(options.typeNumber, options.correctLevel);\n    qrcode.addData(code_name);\n    qrcode.make(); // compute tileW/tileH based on options.width/options.height\n\n    var tileW = options.width / qrcode.getModuleCount();\n    var tileH = options.height / qrcode.getModuleCount(); // draw in the canvas\n\n    var black_line = 0;\n    doc.setDrawColor(0);\n    doc.setFillColor(0, 0, 0);\n\n    for (var row = 0; row < qrcode.getModuleCount(); row++) {\n      black_line = 0;\n\n      for (var col = 0; col < qrcode.getModuleCount(); col++) {\n        //QR CODE (v3) using SQUARES OPTIMIZED\n        if (qrcode.isDark(row, col)) {\n          black_line = black_line + 1;\n\n          if (col == qrcode.getModuleCount() - 1) {\n            doc.rect(x + tileW * (col - black_line + 1), y_1 + tileH * row, tileW * black_line, tileH, 'F');\n          }\n        } else {\n          if (black_line != 0) {\n            doc.rect(x + tileW * (col - black_line), y_1 + tileH * row, tileW * black_line, tileH, 'F');\n            black_line = 0;\n          }\n        }\n      }\n    }\n\n    var code_name_pre = code_name.substring(0, 16);\n    var code_name_post = code_name.substring(16, 32);\n    var y_text_line_1 = y_1 + options.height + parseFloat(font_size_1) / 17.0 * 4.0 + code_margin_top;\n    var y_text_line_2 = y_text_line_1 + parseFloat(font_size_2) / 17.0 * 4.0 + code_margin_between;\n    doc.setFontSize(font_size_1);\n    doc.text(x, y_text_line_1, code_name_pre);\n    doc.setFontSize(font_size_2);\n    doc.text(x, y_text_line_2, code_name_post);\n  }\n\n  doc.output('save', 'qr_codes.pdf');\n}","map":{"version":3,"sources":["/home/arpit/Documents/Genuine(backend)/react-code/src/components/tables/js/qr_generator.js"],"names":["jsPDF","QRCode","qr_generate","codes","columns","scale","paper_width","paper_height","margin_left","margin_top","doc","ratio","parseFloat","x_0","y_0","dx","dy","qr_width","code_margin_top","code_margin_between","font_size_1","font_size_2","codes_per_page","red_square_width_ratio","options","render","width","height","typeNumber","correctLevel","QRErrorCorrectLevel","H","background","foreground","red_square_width","k","code_name","addPage","i","setDrawColor","setLineWidth","line","x","y_1","qrcode","addData","make","tileW","getModuleCount","tileH","black_line","setFillColor","row","col","isDark","rect","code_name_pre","substring","code_name_post","y_text_line_1","y_text_line_2","setFontSize","text","output"],"mappings":"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","sourcesContent":["import jsPDF from \"./lib/jspdf\";\nimport QRCode from \"./../lib\"\nexport default function qr_generate(codes, columns, scale, paper_width, paper_height, margin_left, margin_top){\n    columns = columns || 9;\n    scale = scale || 0.9;\n    paper_width = paper_width || 210.0;\n    paper_height = paper_height || 297.0;\n    margin_left = margin_left || 10.0;\n    margin_top = margin_top || 10.0;\n\n    var doc = new jsPDF();\n\n    //QR CODE GENERATOR - DO NOT CHANGE ANY PARAMETERS EXCEPT columns\n    //--------------------------------------------------------------------------\n    var ratio = 8.0/parseFloat(columns);\n    var x_0 = 3.125*ratio, y_0 = 3.125*ratio, dx = 6.25*ratio, dy = 6.25*ratio, qr_width = 20.0*ratio;\n    var code_margin_top = 5.15*ratio, code_margin_between = 1.0*ratio;\n    var font_size_1 = 8.0*ratio, \n        font_size_2 = 8.0*ratio;    \n\n    x_0*=scale;\n    y_0*=scale;\n    dx*=scale;\n    dy*=scale;\n    qr_width*=scale;\n    code_margin_top*=scale;\n    code_margin_between*=scale;\n    font_size_1*=scale;\n    font_size_2*=scale;\n\n    x_0 += margin_left;\n    y_0 += margin_top;\n\n    var codes_per_page = columns*columns;\n    var red_square_width_ratio = 0.13;\n\n    var options = {\n        render      : \"canvas\",\n        width       : qr_width,\n        height      : qr_width,\n        typeNumber  : -1,\n        correctLevel    : QRErrorCorrectLevel.H,\n                    background      : \"#ffffff\",\n                    foreground      : \"#000000\"\n    };\n\n    var red_square_width = options.width*(red_square_width_ratio);\n\n    for(var k = 0; k < 100; k++){\n        var code_name = \"567493543892927rtyeg\";\n\n        if(k != 0 && k%codes_per_page == 0){\n            doc.addPage();\n        }\n\n        if(k%codes_per_page == 0){\n            for(var i = 0; i < columns+1; i++){\n                doc.setDrawColor(200,200,200); // draw red lines\n                doc.setLineWidth(0.2);\n                doc.line(margin_left + scale*paper_width/columns*i, margin_top, margin_left + scale*paper_width/columns*i, margin_top + scale*paper_height); // vertical line\n            }\n            for(var i = 0; i < columns+1; i++){\n                doc.setDrawColor(200,200,200); // draw red lines\n                doc.setLineWidth(0.2);\n                doc.line(margin_left, margin_top + scale*paper_height/columns*i, margin_left + scale*paper_width, margin_top + scale*paper_height/columns*i); // horizontal line\n            }\n        }\n\n        var x   = x_0 + (k%columns)*(options.width+dx)\n        var y_1 = y_0 + ((k%codes_per_page-k%columns)/columns)*(options.height+code_margin_top+code_margin_between+(parseFloat(font_size_1)+parseFloat(font_size_2))/17.0*4.0+dy)\n    \n        // create the qrcode itself\n        var qrcode  = new QRCode(options.typeNumber, options.correctLevel);\n        qrcode.addData(code_name);\n        qrcode.make();\n\n        // compute tileW/tileH based on options.width/options.height\n        var tileW   = options.width  / qrcode.getModuleCount();\n        var tileH   = options.height / qrcode.getModuleCount();\n\n        // draw in the canvas\n        var black_line = 0;\n        doc.setDrawColor(0);\n        doc.setFillColor(0,0,0);\n\n        for( var row = 0; row < qrcode.getModuleCount(); row++ ){\n            black_line = 0;\n            for( var col = 0; col < qrcode.getModuleCount(); col++ ){\n                //QR CODE (v3) using SQUARES OPTIMIZED\n                if(qrcode.isDark(row, col)){\n                    black_line = black_line+1;\n                    if(col == qrcode.getModuleCount()-1){\n                        doc.rect(x + tileW*(col-black_line+1), y_1 + tileH*row, tileW*black_line, tileH, 'F'); \n                    }\n                } else {\n                    if(black_line != 0){\n                        doc.rect(x + tileW*(col-black_line), y_1 + tileH*row, tileW*black_line, tileH, 'F'); \n                        black_line = 0;\n                    }\n                }\n            }   \n        }\n\n        var code_name_pre = code_name.substring(0,16);\n        var code_name_post = code_name.substring(16,32);\n\n        var y_text_line_1 = y_1 + options.height + parseFloat(font_size_1)/17.0*4.0 + code_margin_top;\n        var y_text_line_2 = y_text_line_1 + parseFloat(font_size_2)/17.0*4.0 + code_margin_between;\n\n        doc.setFontSize(font_size_1);\n        doc.text(x, y_text_line_1, code_name_pre);\n        doc.setFontSize(font_size_2);\n        doc.text(x, y_text_line_2, code_name_post);\n    }\n\n    doc.output('save', 'qr_codes.pdf');\n}\n"]},"metadata":{},"sourceType":"module"}