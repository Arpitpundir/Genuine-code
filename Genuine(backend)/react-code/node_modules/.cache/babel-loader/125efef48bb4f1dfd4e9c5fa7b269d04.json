{"ast":null,"code":"import jsPDF from \"./../lib/jspdf\";\n\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.data.length;\n  },\n  write: function (buffer) {\n    for (var i = 0; i < this.data.length; i++) {\n      // not JIS ...\n      buffer.put(this.data.charCodeAt(i), 8);\n    }\n  }\n}; //---------------------------------------------------------------------\n// QRCode\n//---------------------------------------------------------------------\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = new Array();\n}\n\nQRCode.prototype = {\n  addData: function (data) {\n    var newData = new QR8bitByte(data);\n    this.dataList.push(newData);\n    this.dataCache = null;\n  },\n  isDark: function (row, col) {\n    if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n      throw new Error(row + \",\" + col);\n    }\n\n    return this.modules[row][col];\n  },\n  getModuleCount: function () {\n    return this.moduleCount;\n  },\n  make: function () {\n    // Calculate automatically typeNumber if provided is < 1\n    if (this.typeNumber < 1) {\n      var typeNumber = 1;\n\n      for (typeNumber = 1; typeNumber < 40; typeNumber++) {\n        var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n        var buffer = new QRBitBuffer();\n        var totalDataCount = 0;\n\n        for (var i = 0; i < rsBlocks.length; i++) {\n          totalDataCount += rsBlocks[i].dataCount;\n        }\n\n        for (var i = 0; i < this.dataList.length; i++) {\n          var data = this.dataList[i];\n          buffer.put(data.mode, 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n          data.write(buffer);\n        }\n\n        if (buffer.getLengthInBits() <= totalDataCount * 8) break;\n      }\n\n      this.typeNumber = typeNumber;\n    }\n\n    this.makeImpl(false, this.getBestMaskPattern());\n  },\n  makeImpl: function (test, maskPattern) {\n    this.moduleCount = this.typeNumber * 4 + 17;\n    this.modules = new Array(this.moduleCount);\n\n    for (var row = 0; row < this.moduleCount; row++) {\n      this.modules[row] = new Array(this.moduleCount);\n\n      for (var col = 0; col < this.moduleCount; col++) {\n        this.modules[row][col] = null; //(col + row) % 3;\n      }\n    }\n\n    this.setupPositionProbePattern(0, 0);\n    this.setupPositionProbePattern(this.moduleCount - 7, 0);\n    this.setupPositionProbePattern(0, this.moduleCount - 7);\n    this.setupPositionAdjustPattern();\n    this.setupTimingPattern();\n    this.setupTypeInfo(test, maskPattern);\n\n    if (this.typeNumber >= 7) {\n      this.setupTypeNumber(test);\n    }\n\n    if (this.dataCache == null) {\n      this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n    }\n\n    this.mapData(this.dataCache, maskPattern);\n  },\n  setupPositionProbePattern: function (row, col) {\n    for (var r = -1; r <= 7; r++) {\n      if (row + r <= -1 || this.moduleCount <= row + r) continue;\n\n      for (var c = -1; c <= 7; c++) {\n        if (col + c <= -1 || this.moduleCount <= col + c) continue;\n\n        if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {\n          this.modules[row + r][col + c] = true;\n        } else {\n          this.modules[row + r][col + c] = false;\n        }\n      }\n    }\n  },\n  getBestMaskPattern: function () {\n    var minLostPoint = 0;\n    var pattern = 0;\n\n    for (var i = 0; i < 8; i++) {\n      this.makeImpl(true, i);\n      var lostPoint = QRUtil.getLostPoint(this);\n\n      if (i == 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint;\n        pattern = i;\n      }\n    }\n\n    return pattern;\n  },\n  createMovieClip: function (target_mc, instance_name, depth) {\n    var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n    var cs = 1;\n    this.make();\n\n    for (var row = 0; row < this.modules.length; row++) {\n      var y = row * cs;\n\n      for (var col = 0; col < this.modules[row].length; col++) {\n        var x = col * cs;\n        var dark = this.modules[row][col];\n\n        if (dark) {\n          qr_mc.beginFill(0, 100);\n          qr_mc.moveTo(x, y);\n          qr_mc.lineTo(x + cs, y);\n          qr_mc.lineTo(x + cs, y + cs);\n          qr_mc.lineTo(x, y + cs);\n          qr_mc.endFill();\n        }\n      }\n    }\n\n    return qr_mc;\n  },\n  setupTimingPattern: function () {\n    for (var r = 8; r < this.moduleCount - 8; r++) {\n      if (this.modules[r][6] != null) {\n        continue;\n      }\n\n      this.modules[r][6] = r % 2 == 0;\n    }\n\n    for (var c = 8; c < this.moduleCount - 8; c++) {\n      if (this.modules[6][c] != null) {\n        continue;\n      }\n\n      this.modules[6][c] = c % 2 == 0;\n    }\n  },\n  setupPositionAdjustPattern: function () {\n    var pos = QRUtil.getPatternPosition(this.typeNumber);\n\n    for (var i = 0; i < pos.length; i++) {\n      for (var j = 0; j < pos.length; j++) {\n        var row = pos[i];\n        var col = pos[j];\n\n        if (this.modules[row][col] != null) {\n          continue;\n        }\n\n        for (var r = -2; r <= 2; r++) {\n          for (var c = -2; c <= 2; c++) {\n            if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {\n              this.modules[row + r][col + c] = true;\n            } else {\n              this.modules[row + r][col + c] = false;\n            }\n          }\n        }\n      }\n    }\n  },\n  setupTypeNumber: function (test) {\n    var bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n\n    for (var i = 0; i < 18; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n      this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n    }\n\n    for (var i = 0; i < 18; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n      this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n    }\n  },\n  setupTypeInfo: function (test, maskPattern) {\n    var data = this.errorCorrectLevel << 3 | maskPattern;\n    var bits = QRUtil.getBCHTypeInfo(data); // vertical\t\t\n\n    for (var i = 0; i < 15; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n\n      if (i < 6) {\n        this.modules[i][8] = mod;\n      } else if (i < 8) {\n        this.modules[i + 1][8] = mod;\n      } else {\n        this.modules[this.moduleCount - 15 + i][8] = mod;\n      }\n    } // horizontal\n\n\n    for (var i = 0; i < 15; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n\n      if (i < 8) {\n        this.modules[8][this.moduleCount - i - 1] = mod;\n      } else if (i < 9) {\n        this.modules[8][15 - i - 1 + 1] = mod;\n      } else {\n        this.modules[8][15 - i - 1] = mod;\n      }\n    } // fixed module\n\n\n    this.modules[this.moduleCount - 8][8] = !test;\n  },\n  mapData: function (data, maskPattern) {\n    var inc = -1;\n    var row = this.moduleCount - 1;\n    var bitIndex = 7;\n    var byteIndex = 0;\n\n    for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n      if (col == 6) col--;\n\n      while (true) {\n        for (var c = 0; c < 2; c++) {\n          if (this.modules[row][col - c] == null) {\n            var dark = false;\n\n            if (byteIndex < data.length) {\n              dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n            }\n\n            var mask = QRUtil.getMask(maskPattern, row, col - c);\n\n            if (mask) {\n              dark = !dark;\n            }\n\n            this.modules[row][col - c] = dark;\n            bitIndex--;\n\n            if (bitIndex == -1) {\n              byteIndex++;\n              bitIndex = 7;\n            }\n          }\n        }\n\n        row += inc;\n\n        if (row < 0 || this.moduleCount <= row) {\n          row -= inc;\n          inc = -inc;\n          break;\n        }\n      }\n    }\n  }\n};\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function (typeNumber, errorCorrectLevel, dataList) {\n  var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n  var buffer = new QRBitBuffer();\n\n  for (var i = 0; i < dataList.length; i++) {\n    var data = dataList[i];\n    buffer.put(data.mode, 4);\n    buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n    data.write(buffer);\n  } // calc num max data.\n\n\n  var totalDataCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalDataCount += rsBlocks[i].dataCount;\n  }\n\n  if (buffer.getLengthInBits() > totalDataCount * 8) {\n    throw new Error(\"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\");\n  } // end code\n\n\n  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n    buffer.put(0, 4);\n  } // padding\n\n\n  while (buffer.getLengthInBits() % 8 != 0) {\n    buffer.putBit(false);\n  } // padding\n\n\n  while (true) {\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCode.PAD0, 8);\n\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCode.PAD1, 8);\n  }\n\n  return QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function (buffer, rsBlocks) {\n  var offset = 0;\n  var maxDcCount = 0;\n  var maxEcCount = 0;\n  var dcdata = new Array(rsBlocks.length);\n  var ecdata = new Array(rsBlocks.length);\n\n  for (var r = 0; r < rsBlocks.length; r++) {\n    var dcCount = rsBlocks[r].dataCount;\n    var ecCount = rsBlocks[r].totalCount - dcCount;\n    maxDcCount = Math.max(maxDcCount, dcCount);\n    maxEcCount = Math.max(maxEcCount, ecCount);\n    dcdata[r] = new Array(dcCount);\n\n    for (var i = 0; i < dcdata[r].length; i++) {\n      dcdata[r][i] = 0xff & buffer.buffer[i + offset];\n    }\n\n    offset += dcCount;\n    var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n    var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n    var modPoly = rawPoly.mod(rsPoly);\n    ecdata[r] = new Array(rsPoly.getLength() - 1);\n\n    for (var i = 0; i < ecdata[r].length; i++) {\n      var modIndex = i + modPoly.getLength() - ecdata[r].length;\n      ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n    }\n  }\n\n  var totalCodeCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalCodeCount += rsBlocks[i].totalCount;\n  }\n\n  var data = new Array(totalCodeCount);\n  var index = 0;\n\n  for (var i = 0; i < maxDcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < dcdata[r].length) {\n        data[index++] = dcdata[r][i];\n      }\n    }\n  }\n\n  for (var i = 0; i < maxEcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < ecdata[r].length) {\n        data[index++] = ecdata[r][i];\n      }\n    }\n  }\n\n  return data;\n}; //---------------------------------------------------------------------\n// QRMode\n//---------------------------------------------------------------------\n\n\nvar QRMode = {\n  MODE_NUMBER: 1 << 0,\n  MODE_ALPHA_NUM: 1 << 1,\n  MODE_8BIT_BYTE: 1 << 2,\n  MODE_KANJI: 1 << 3\n}; //---------------------------------------------------------------------\n// QRErrorCorrectLevel\n//---------------------------------------------------------------------\n\nvar QRErrorCorrectLevel = {\n  L: 1,\n  M: 0,\n  Q: 3,\n  H: 2\n}; //---------------------------------------------------------------------\n// QRMaskPattern\n//---------------------------------------------------------------------\n\nvar QRMaskPattern = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}; //---------------------------------------------------------------------\n// QRUtil\n//---------------------------------------------------------------------\n\nvar QRUtil = {\n  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],\n  G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,\n  G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,\n  G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,\n  getBCHTypeInfo: function (data) {\n    var d = data << 10;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);\n    }\n\n    return (data << 10 | d) ^ QRUtil.G15_MASK;\n  },\n  getBCHTypeNumber: function (data) {\n    var d = data << 12;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);\n    }\n\n    return data << 12 | d;\n  },\n  getBCHDigit: function (data) {\n    var digit = 0;\n\n    while (data != 0) {\n      digit++;\n      data >>>= 1;\n    }\n\n    return digit;\n  },\n  getPatternPosition: function (typeNumber) {\n    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n  },\n  getMask: function (maskPattern, i, j) {\n    switch (maskPattern) {\n      case QRMaskPattern.PATTERN000:\n        return (i + j) % 2 == 0;\n\n      case QRMaskPattern.PATTERN001:\n        return i % 2 == 0;\n\n      case QRMaskPattern.PATTERN010:\n        return j % 3 == 0;\n\n      case QRMaskPattern.PATTERN011:\n        return (i + j) % 3 == 0;\n\n      case QRMaskPattern.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n\n      case QRMaskPattern.PATTERN101:\n        return i * j % 2 + i * j % 3 == 0;\n\n      case QRMaskPattern.PATTERN110:\n        return (i * j % 2 + i * j % 3) % 2 == 0;\n\n      case QRMaskPattern.PATTERN111:\n        return (i * j % 3 + (i + j) % 2) % 2 == 0;\n\n      default:\n        throw new Error(\"bad maskPattern:\" + maskPattern);\n    }\n  },\n  getErrorCorrectPolynomial: function (errorCorrectLength) {\n    var a = new QRPolynomial([1], 0);\n\n    for (var i = 0; i < errorCorrectLength; i++) {\n      a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\n    }\n\n    return a;\n  },\n  getLengthInBits: function (mode, type) {\n    if (1 <= type && type < 10) {\n      // 1 - 9\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 10;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 9;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 8;\n\n        case QRMode.MODE_KANJI:\n          return 8;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 27) {\n      // 10 - 26\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 12;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 11;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 16;\n\n        case QRMode.MODE_KANJI:\n          return 10;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 41) {\n      // 27 - 40\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 14;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 13;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 16;\n\n        case QRMode.MODE_KANJI:\n          return 12;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else {\n      throw new Error(\"type:\" + type);\n    }\n  },\n  getLostPoint: function (qrCode) {\n    var moduleCount = qrCode.getModuleCount();\n    var lostPoint = 0; // LEVEL1\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount; col++) {\n        var sameCount = 0;\n        var dark = qrCode.isDark(row, col);\n\n        for (var r = -1; r <= 1; r++) {\n          if (row + r < 0 || moduleCount <= row + r) {\n            continue;\n          }\n\n          for (var c = -1; c <= 1; c++) {\n            if (col + c < 0 || moduleCount <= col + c) {\n              continue;\n            }\n\n            if (r == 0 && c == 0) {\n              continue;\n            }\n\n            if (dark == qrCode.isDark(row + r, col + c)) {\n              sameCount++;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += 3 + sameCount - 5;\n        }\n      }\n    } // LEVEL2\n\n\n    for (var row = 0; row < moduleCount - 1; row++) {\n      for (var col = 0; col < moduleCount - 1; col++) {\n        var count = 0;\n        if (qrCode.isDark(row, col)) count++;\n        if (qrCode.isDark(row + 1, col)) count++;\n        if (qrCode.isDark(row, col + 1)) count++;\n        if (qrCode.isDark(row + 1, col + 1)) count++;\n\n        if (count == 0 || count == 4) {\n          lostPoint += 3;\n        }\n      }\n    } // LEVEL3\n\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount - 6; col++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount - 6; row++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {\n          lostPoint += 40;\n        }\n      }\n    } // LEVEL4\n\n\n    var darkCount = 0;\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount; row++) {\n        if (qrCode.isDark(row, col)) {\n          darkCount++;\n        }\n      }\n    }\n\n    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n    lostPoint += ratio * 10;\n    return lostPoint;\n  }\n}; //---------------------------------------------------------------------\n// QRMath\n//---------------------------------------------------------------------\n\nvar QRMath = {\n  glog: function (n) {\n    if (n < 1) {\n      throw new Error(\"glog(\" + n + \")\");\n    }\n\n    return QRMath.LOG_TABLE[n];\n  },\n  gexp: function (n) {\n    while (n < 0) {\n      n += 255;\n    }\n\n    while (n >= 256) {\n      n -= 255;\n    }\n\n    return QRMath.EXP_TABLE[n];\n  },\n  EXP_TABLE: new Array(256),\n  LOG_TABLE: new Array(256)\n};\n\nfor (var i = 0; i < 8; i++) {\n  QRMath.EXP_TABLE[i] = 1 << i;\n}\n\nfor (var i = 8; i < 256; i++) {\n  QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];\n}\n\nfor (var i = 0; i < 255; i++) {\n  QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n} //---------------------------------------------------------------------\n// QRPolynomial\n//---------------------------------------------------------------------\n\n\nfunction QRPolynomial(num, shift) {\n  if (num.length == undefined) {\n    throw new Error(num.length + \"/\" + shift);\n  }\n\n  var offset = 0;\n\n  while (offset < num.length && num[offset] == 0) {\n    offset++;\n  }\n\n  this.num = new Array(num.length - offset + shift);\n\n  for (var i = 0; i < num.length - offset; i++) {\n    this.num[i] = num[i + offset];\n  }\n}\n\nQRPolynomial.prototype = {\n  get: function (index) {\n    return this.num[index];\n  },\n  getLength: function () {\n    return this.num.length;\n  },\n  multiply: function (e) {\n    var num = new Array(this.getLength() + e.getLength() - 1);\n\n    for (var i = 0; i < this.getLength(); i++) {\n      for (var j = 0; j < e.getLength(); j++) {\n        num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));\n      }\n    }\n\n    return new QRPolynomial(num, 0);\n  },\n  mod: function (e) {\n    if (this.getLength() - e.getLength() < 0) {\n      return this;\n    }\n\n    var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n    var num = new Array(this.getLength());\n\n    for (var i = 0; i < this.getLength(); i++) {\n      num[i] = this.get(i);\n    }\n\n    for (var i = 0; i < e.getLength(); i++) {\n      num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\n    } // recursive call\n\n\n    return new QRPolynomial(num, 0).mod(e);\n  }\n}; //---------------------------------------------------------------------\n// QRRSBlock\n//---------------------------------------------------------------------\n\nfunction QRRSBlock(totalCount, dataCount) {\n  this.totalCount = totalCount;\n  this.dataCount = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [// L\n// M\n// Q\n// H\n// 1\n[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], // 2\n[1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], // 3\n[1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], // 4\t\t\n[1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], // 5\n[1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], // 6\n[2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], // 7\t\t\n[2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], // 8\n[2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], // 9\n[2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], // 10\t\t\n[2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], // 11\n[4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], // 12\n[2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], // 13\n[4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], // 14\n[3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], // 15\n[5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], // 16\n[5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], // 17\n[1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], // 18\n[5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], // 19\n[3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], // 20\n[3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], // 21\n[4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], // 22\n[2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], // 23\n[4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], // 24\n[6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], // 25\n[8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], // 26\n[10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], // 27\n[8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], // 28\n[3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], // 29\n[7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], // 30\n[5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], // 31\n[13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], // 32\n[17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], // 33\n[17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], // 34\n[13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], // 35\n[12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], // 36\n[6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], // 37\n[17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], // 38\n[4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], // 39\n[20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], // 40\n[19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];\n\nQRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\n  if (rsBlock == undefined) {\n    throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n  }\n\n  var length = rsBlock.length / 3;\n  var list = new Array();\n\n  for (var i = 0; i < length; i++) {\n    var count = rsBlock[i * 3 + 0];\n    var totalCount = rsBlock[i * 3 + 1];\n    var dataCount = rsBlock[i * 3 + 2];\n\n    for (var j = 0; j < count; j++) {\n      list.push(new QRRSBlock(totalCount, dataCount));\n    }\n  }\n\n  return list;\n};\n\nQRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n  switch (errorCorrectLevel) {\n    case QRErrorCorrectLevel.L:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\n    case QRErrorCorrectLevel.M:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\n    case QRErrorCorrectLevel.Q:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\n    case QRErrorCorrectLevel.H:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n}; //---------------------------------------------------------------------\n// QRBitBuffer\n//---------------------------------------------------------------------\n\n\nfunction QRBitBuffer() {\n  this.buffer = new Array();\n  this.length = 0;\n}\n\nQRBitBuffer.prototype = {\n  get: function (index) {\n    var bufIndex = Math.floor(index / 8);\n    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n  },\n  put: function (num, length) {\n    for (var i = 0; i < length; i++) {\n      this.putBit((num >>> length - i - 1 & 1) == 1);\n    }\n  },\n  getLengthInBits: function () {\n    return this.length;\n  },\n  putBit: function (bit) {\n    var bufIndex = Math.floor(this.length / 8);\n\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0);\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n    }\n\n    this.length++;\n  }\n};\nexport default function qr_generate(codes, columns, scale, paper_width, paper_height, margin_left, margin_top) {\n  columns = columns || 9;\n  scale = scale || 0.9;\n  paper_width = paper_width || 210.0;\n  paper_height = paper_height || 297.0;\n  margin_left = margin_left || 10.0;\n  margin_top = margin_top || 10.0;\n  var doc = jsPDF(); //QR CODE GENERATOR - DO NOT CHANGE ANY PARAMETERS EXCEPT columns\n  //--------------------------------------------------------------------------\n\n  var ratio = 8.0 / parseFloat(columns);\n  var x_0 = 3.125 * ratio,\n      y_0 = 3.125 * ratio,\n      dx = 6.25 * ratio,\n      dy = 6.25 * ratio,\n      qr_width = 20.0 * ratio;\n  var code_margin_top = 5.15 * ratio,\n      code_margin_between = 1.0 * ratio;\n  var font_size_1 = 8.0 * ratio,\n      font_size_2 = 8.0 * ratio;\n  x_0 *= scale;\n  y_0 *= scale;\n  dx *= scale;\n  dy *= scale;\n  qr_width *= scale;\n  code_margin_top *= scale;\n  code_margin_between *= scale;\n  font_size_1 *= scale;\n  font_size_2 *= scale;\n  x_0 += margin_left;\n  y_0 += margin_top;\n  var codes_per_page = columns * columns;\n  var red_square_width_ratio = 0.13;\n  var options = {\n    render: \"canvas\",\n    width: qr_width,\n    height: qr_width,\n    typeNumber: -1,\n    correctLevel: 3,\n    background: \"#ffffff\",\n    foreground: \"#000000\"\n  };\n  var red_square_width = options.width * red_square_width_ratio;\n\n  for (var k = 0; k < 100; k++) {\n    var code_name = \"567493543892927rtyeg\";\n\n    if (k != 0 && k % codes_per_page == 0) {\n      doc.addPage();\n    }\n\n    if (k % codes_per_page == 0) {\n      for (var i = 0; i < columns + 1; i++) {//  doc.setDrawColor(200,200,200); // draw red lines\n        //doc.setLineWidth(0.2);\n        //doc.line(margin_left + scale*paper_width/columns*i, margin_top, margin_left + scale*paper_width/columns*i, margin_top + scale*paper_height); // vertical line\n      }\n\n      for (var i = 0; i < columns + 1; i++) {\n        doc.setDrawColor(200, 200, 200); // draw red lines\n\n        doc.setLineWidth(0.2);\n        doc.line(margin_left, margin_top + scale * paper_height / columns * i, margin_left + scale * paper_width, margin_top + scale * paper_height / columns * i); // horizontal line\n      }\n    }\n\n    var x = x_0 + k % columns * (options.width + dx);\n    var y_1 = y_0 + (k % codes_per_page - k % columns) / columns * (options.height + code_margin_top + code_margin_between + (parseFloat(font_size_1) + parseFloat(font_size_2)) / 17.0 * 4.0 + dy); // create the qrcode itself\n\n    var qrcode = QRCode(options.typeNumber, options.correctLevel);\n    qrcode.addData(code_name);\n    qrcode.make(); // compute tileW/tileH based on options.width/options.height\n\n    var tileW = options.width / qrcode.getModuleCount();\n    var tileH = options.height / qrcode.getModuleCount(); // draw in the canvas\n\n    var black_line = 0;\n    doc.setDrawColor(0);\n    doc.setFillColor(0, 0, 0);\n\n    for (var row = 0; row < qrcode.getModuleCount(); row++) {\n      black_line = 0;\n\n      for (var col = 0; col < qrcode.getModuleCount(); col++) {\n        //QR CODE (v3) using SQUARES OPTIMIZED\n        if (qrcode.isDark(row, col)) {\n          black_line = black_line + 1;\n\n          if (col == qrcode.getModuleCount() - 1) {\n            doc.rect(x + tileW * (col - black_line + 1), y_1 + tileH * row, tileW * black_line, tileH, 'F');\n          }\n        } else {\n          if (black_line != 0) {\n            doc.rect(x + tileW * (col - black_line), y_1 + tileH * row, tileW * black_line, tileH, 'F');\n            black_line = 0;\n          }\n        }\n      }\n    }\n\n    var code_name_pre = code_name.substring(0, 16);\n    var code_name_post = code_name.substring(16, 32);\n    var y_text_line_1 = y_1 + options.height + parseFloat(font_size_1) / 17.0 * 4.0 + code_margin_top;\n    var y_text_line_2 = y_text_line_1 + parseFloat(font_size_2) / 17.0 * 4.0 + code_margin_between;\n    doc.setFontSize(font_size_1);\n    doc.text(x, y_text_line_1, code_name_pre);\n    doc.setFontSize(font_size_2);\n    doc.text(x, y_text_line_2, code_name_post);\n  }\n\n  doc.output('save', 'qr_codes.pdf');\n}","map":{"version":3,"sources":["/home/arpit/Documents/Genuine(backend)/react-code/src/components/tables/js/qr_generator.js"],"names":["jsPDF","QR8bitByte","data","mode","QRMode","MODE_8BIT_BYTE","prototype","getLength","buffer","length","write","i","put","charCodeAt","QRCode","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","Array","addData","newData","push","isDark","row","col","Error","getModuleCount","make","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","totalDataCount","dataCount","QRUtil","getLengthInBits","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","Math","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","type","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","qr_generate","codes","columns","scale","paper_width","paper_height","margin_left","margin_top","doc","parseFloat","x_0","y_0","dx","dy","qr_width","code_margin_top","code_margin_between","font_size_1","font_size_2","codes_per_page","red_square_width_ratio","options","render","width","height","correctLevel","background","foreground","red_square_width","k","code_name","addPage","setDrawColor","setLineWidth","line","y_1","qrcode","tileW","tileH","black_line","setFillColor","rect","code_name_pre","substring","code_name_post","y_text_line_1","y_text_line_2","setFontSize","text","output"],"mappings":"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","sourcesContent":["import jsPDF from \"./../lib/jspdf\";\nfunction QR8bitByte(data) {\n\tthis.mode = QRMode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\n//---------------------------------------------------------------------\n// QRCode\n//---------------------------------------------------------------------\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = new Array();\n}\n\nQRCode.prototype = {\n\t\n\taddData : function(data) {\n\t\tvar newData = new QR8bitByte(data);\n\t\tthis.dataList.push(newData);\n\t\tthis.dataCache = null;\n\t},\n\t\n\tisDark : function(row, col) {\n\t\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\t\tthrow new Error(row + \",\" + col);\n\t\t}\n\t\treturn this.modules[row][col];\n\t},\n\n\tgetModuleCount : function() {\n\t\treturn this.moduleCount;\n\t},\n\t\n\tmake : function() {\n\t\t// Calculate automatically typeNumber if provided is < 1\n\t\tif (this.typeNumber < 1 ){\n\t\t\tvar typeNumber = 1;\n\t\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\t\tvar rsBlocks = QRRSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\t\tvar buffer = new QRBitBuffer();\n\t\t\t\tvar totalDataCount = 0;\n\t\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\t\tvar data = this.dataList[i];\n\t\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\t\tbuffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\t\tdata.write(buffer);\n\t\t\t\t}\n\t\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.typeNumber = typeNumber;\n\t\t}\n\t\tthis.makeImpl(false, this.getBestMaskPattern() );\n\t},\n\t\n\tmakeImpl : function(test, maskPattern) {\n\t\t\n\t\tthis.moduleCount = this.typeNumber * 4 + 17;\n\t\tthis.modules = new Array(this.moduleCount);\n\t\t\n\t\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\t\n\t\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\t\n\t\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t\t}\n\t\t}\n\t\n\t\tthis.setupPositionProbePattern(0, 0);\n\t\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\t\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\t\tthis.setupPositionAdjustPattern();\n\t\tthis.setupTimingPattern();\n\t\tthis.setupTypeInfo(test, maskPattern);\n\t\t\n\t\tif (this.typeNumber >= 7) {\n\t\t\tthis.setupTypeNumber(test);\n\t\t}\n\t\n\t\tif (this.dataCache == null) {\n\t\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t\t}\n\t\n\t\tthis.mapData(this.dataCache, maskPattern);\n\t},\n\n\tsetupPositionProbePattern : function(row, col)  {\n\t\t\n\t\tfor (var r = -1; r <= 7; r++) {\n\t\t\t\n\t\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\t\n\t\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\t\n\t\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\t\n\t\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t}\n\t\t\t}\t\t\n\t\t}\t\t\n\t},\n\t\n\tgetBestMaskPattern : function() {\n\t\n\t\tvar minLostPoint = 0;\n\t\tvar pattern = 0;\n\t\n\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\n\t\t\tthis.makeImpl(true, i);\n\t\n\t\t\tvar lostPoint = QRUtil.getLostPoint(this);\n\t\n\t\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\t\tminLostPoint = lostPoint;\n\t\t\t\tpattern = i;\n\t\t\t}\n\t\t}\n\t\n\t\treturn pattern;\n\t},\n\t\n\tcreateMovieClip : function(target_mc, instance_name, depth) {\n\t\n\t\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\t\tvar cs = 1;\n\t\n\t\tthis.make();\n\n\t\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\t\n\t\t\tvar y = row * cs;\n\t\t\t\n\t\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\t\n\t\t\t\tvar x = col * cs;\n\t\t\t\tvar dark = this.modules[row][col];\n\t\t\t\n\t\t\t\tif (dark) {\n\t\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\t\tqr_mc.endFill();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn qr_mc;\n\t},\n\n\tsetupTimingPattern : function() {\n\t\t\n\t\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\t\tif (this.modules[r][6] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.modules[r][6] = (r % 2 == 0);\n\t\t}\n\t\n\t\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\t\tif (this.modules[6][c] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.modules[6][c] = (c % 2 == 0);\n\t\t}\n\t},\n\t\n\tsetupPositionAdjustPattern : function() {\n\t\n\t\tvar pos = QRUtil.getPatternPosition(this.typeNumber);\n\t\t\n\t\tfor (var i = 0; i < pos.length; i++) {\n\t\t\n\t\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\t\n\t\t\t\tvar row = pos[i];\n\t\t\t\tvar col = pos[j];\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\t\n\t\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\t\n\t\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2 \n\t\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\n\tsetupTypeNumber : function(test) {\n\t\n\t\tvar bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n\t\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t\t}\n\t\n\t\tfor (var i = 0; i < 18; i++) {\n\t\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t\t}\n\t},\n\t\n\tsetupTypeInfo : function(test, maskPattern) {\n\t\n\t\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\t\tvar bits = QRUtil.getBCHTypeInfo(data);\n\t\n\t\t// vertical\t\t\n\t\tfor (var i = 0; i < 15; i++) {\n\t\n\t\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\n\t\t\tif (i < 6) {\n\t\t\t\tthis.modules[i][8] = mod;\n\t\t\t} else if (i < 8) {\n\t\t\t\tthis.modules[i + 1][8] = mod;\n\t\t\t} else {\n\t\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t\t}\n\t\t}\n\t\n\t\t// horizontal\n\t\tfor (var i = 0; i < 15; i++) {\n\t\n\t\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\t\n\t\t\tif (i < 8) {\n\t\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t\t} else if (i < 9) {\n\t\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t\t} else {\n\t\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t\t}\n\t\t}\n\t\n\t\t// fixed module\n\t\tthis.modules[this.moduleCount - 8][8] = (!test);\n\t\n\t},\n\t\n\tmapData : function(data, maskPattern) {\n\t\t\n\t\tvar inc = -1;\n\t\tvar row = this.moduleCount - 1;\n\t\tvar bitIndex = 7;\n\t\tvar byteIndex = 0;\n\t\t\n\t\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\t\n\t\t\tif (col == 6) col--;\n\t\n\t\t\twhile (true) {\n\t\n\t\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\t\n\t\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar dark = false;\n\t\n\t\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar mask = QRUtil.getMask(maskPattern, row, col - c);\n\t\n\t\t\t\t\t\tif (mask) {\n\t\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\t\tbitIndex--;\n\t\n\t\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\trow += inc;\n\t\n\t\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\t\trow -= inc;\n\t\t\t\t\tinc = -inc;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new QRBitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n}\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n\n}\n\n//---------------------------------------------------------------------\n// QRMode\n//---------------------------------------------------------------------\n\nvar QRMode = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n\n//---------------------------------------------------------------------\n// QRErrorCorrectLevel\n//---------------------------------------------------------------------\n \nvar QRErrorCorrectLevel = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n//---------------------------------------------------------------------\n// QRMaskPattern\n//---------------------------------------------------------------------\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\n//---------------------------------------------------------------------\n// QRUtil\n//---------------------------------------------------------------------\n \nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new QRPolynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case QRMode.MODE_NUMBER \t: return 10;\n\t\t    case QRMode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case QRMode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case QRMode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case QRMode.MODE_NUMBER \t: return 12;\n\t\t    case QRMode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case QRMode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case QRMode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case QRMode.MODE_NUMBER \t: return 14;\n\t\t    case QRMode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case QRMode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case QRMode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n\n};\n\n\n//---------------------------------------------------------------------\n// QRMath\n//---------------------------------------------------------------------\n\nvar QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\n//---------------------------------------------------------------------\n// QRPolynomial\n//---------------------------------------------------------------------\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i) ) + QRMath.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = QRMath.glog(this.get(0) ) - QRMath.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= QRMath.gexp(QRMath.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\n//---------------------------------------------------------------------\n// QRRSBlock\n//---------------------------------------------------------------------\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase QRErrorCorrectLevel.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase QRErrorCorrectLevel.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase QRErrorCorrectLevel.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase QRErrorCorrectLevel.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\n//---------------------------------------------------------------------\n// QRBitBuffer\n//---------------------------------------------------------------------\n\nfunction QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nexport default function qr_generate(codes, columns, scale, paper_width, paper_height, margin_left, margin_top){\n    columns = columns || 9;\n    scale = scale || 0.9;\n    paper_width = paper_width || 210.0;\n    paper_height = paper_height || 297.0;\n    margin_left = margin_left || 10.0;\n    margin_top = margin_top || 10.0;\n\n    var doc =  jsPDF();\n\n    //QR CODE GENERATOR - DO NOT CHANGE ANY PARAMETERS EXCEPT columns\n    //--------------------------------------------------------------------------\n    var ratio = 8.0/parseFloat(columns);\n    var x_0 = 3.125*ratio, y_0 = 3.125*ratio, dx = 6.25*ratio, dy = 6.25*ratio, qr_width = 20.0*ratio;\n    var code_margin_top = 5.15*ratio, code_margin_between = 1.0*ratio;\n    var font_size_1 = 8.0*ratio, \n        font_size_2 = 8.0*ratio;    \n\n    x_0*=scale;\n    y_0*=scale;\n    dx*=scale;\n    dy*=scale;\n    qr_width*=scale;\n    code_margin_top*=scale;\n    code_margin_between*=scale;\n    font_size_1*=scale;\n    font_size_2*=scale;\n\n    x_0 += margin_left;\n    y_0 += margin_top;\n\n    var codes_per_page = columns*columns;\n    var red_square_width_ratio = 0.13;\n\n    var options = {\n        render      : \"canvas\",\n        width       : qr_width,\n        height      : qr_width,\n        typeNumber  : -1,\n        correctLevel: 3,\n                    background      : \"#ffffff\",\n                    foreground      : \"#000000\"\n    };\n\n    var red_square_width = options.width*(red_square_width_ratio);\n\n    for(var k = 0; k < 100; k++){\n        var code_name = \"567493543892927rtyeg\";\n\n        if(k != 0 && k%codes_per_page == 0){\n            doc.addPage();\n        }\n\n        if(k%codes_per_page == 0){\n            for(var i = 0; i < columns+1; i++){\n              //  doc.setDrawColor(200,200,200); // draw red lines\n                //doc.setLineWidth(0.2);\n                //doc.line(margin_left + scale*paper_width/columns*i, margin_top, margin_left + scale*paper_width/columns*i, margin_top + scale*paper_height); // vertical line\n            }\n            for(var i = 0; i < columns+1; i++){\n                doc.setDrawColor(200,200,200); // draw red lines\n                doc.setLineWidth(0.2);\n                doc.line(margin_left, margin_top + scale*paper_height/columns*i, margin_left + scale*paper_width, margin_top + scale*paper_height/columns*i); // horizontal line\n            }\n        }\n\n        var x   = x_0 + (k%columns)*(options.width+dx)\n        var y_1 = y_0 + ((k%codes_per_page-k%columns)/columns)*(options.height+code_margin_top+code_margin_between+(parseFloat(font_size_1)+parseFloat(font_size_2))/17.0*4.0+dy)\n    \n        // create the qrcode itself\n        var qrcode  =  QRCode(options.typeNumber, options.correctLevel);\n        qrcode.addData(code_name);\n        qrcode.make();\n\n        // compute tileW/tileH based on options.width/options.height\n        var tileW   = options.width  / qrcode.getModuleCount();\n        var tileH   = options.height / qrcode.getModuleCount();\n\n        // draw in the canvas\n        var black_line = 0;\n        doc.setDrawColor(0);\n        doc.setFillColor(0,0,0);\n\n        for( var row = 0; row < qrcode.getModuleCount(); row++ ){\n            black_line = 0;\n            for( var col = 0; col < qrcode.getModuleCount(); col++ ){\n                //QR CODE (v3) using SQUARES OPTIMIZED\n                if(qrcode.isDark(row, col)){\n                    black_line = black_line+1;\n                    if(col == qrcode.getModuleCount()-1){\n                        doc.rect(x + tileW*(col-black_line+1), y_1 + tileH*row, tileW*black_line, tileH, 'F'); \n                    }\n                } else {\n                    if(black_line != 0){\n                        doc.rect(x + tileW*(col-black_line), y_1 + tileH*row, tileW*black_line, tileH, 'F'); \n                        black_line = 0;\n                    }\n                }\n            }   \n        }\n\n        var code_name_pre = code_name.substring(0,16);\n        var code_name_post = code_name.substring(16,32);\n\n        var y_text_line_1 = y_1 + options.height + parseFloat(font_size_1)/17.0*4.0 + code_margin_top;\n        var y_text_line_2 = y_text_line_1 + parseFloat(font_size_2)/17.0*4.0 + code_margin_between;\n\n        doc.setFontSize(font_size_1);\n        doc.text(x, y_text_line_1, code_name_pre);\n        doc.setFontSize(font_size_2);\n        doc.text(x, y_text_line_2, code_name_post);\n    }\n\n    doc.output('save', 'qr_codes.pdf');\n}\n"]},"metadata":{},"sourceType":"module"}